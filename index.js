#!/usr/bin/env node
import{dirname as w}from"path";import{argv as Oo,exit as Vo,version as Po}from"process";import{fileURLToPath as B}from"url";import{ReadJson as l}from"@yangzw/bruce-us/dist/node.js";import{Command as Qo}from"commander/esm.mjs";import Ro from"semver";import So from"update-notifier";import{ACTION_TEXT as F,CMD_TEXT as ho}from"./constants/i18n/index.js";import{AutoBin as ot,ShowMsg as et}from"./constants/util/index.js";(async()=>{if(Ro.lt(Po,"v16.0.0"))return et("red",ho.judgeNodeVer),Vo(1);const o=w(B(import.meta.url)),i=new Qo,e=l("./package.json",o);So({pkg:e}).notify(),i.name(ho.name).usage("<command>").description(ho.desc).version(ho.version(e.version),"-v, --version",F.version).helpOption("-h, --help",F.help).addHelpCommand(!1),i.command("build").alias("b").description(F.build).action((()=>ot("build"))),i.command("init").alias("i").description(F.init).action((()=>ot("init"))),i.command("locale").alias("l").description(F.locale).action((()=>ot("locale"))),i.command("new").alias("n").description(F.new).action((()=>ot("new"))),i.command("remove").alias("r").description(F.remove).action((()=>ot("remove"))),i.parse(Oo)})();