const e=require("fs"),r=require("os"),t=require("path"),n=require("url"),o=require("util"),i=require("chalk"),c=require("webpack");module.exports={AbsPath:l,AsyncTo:f,AutoBin:p,BuildCb:d,ChaoticDate:h,DataType:y,DiffArray:g,GetUrl:m,IsEmptyArray:$,IsEmptyObject:S,IsExist:w,IsMpa:b,ReadEntry:q,ReadFolder:A,ShowMsg:C,ShowTitle:E,TitleCase:I};const{ACTION_TEXT:s}=require("../i18n"),{HOST:a,REGEXP:u}=require("./getting");function l(e,r){const n=r?__dirname:process.cwd();return t.join(n,e)}function f(e){return e.then((e=>[null,e])).catch((e=>[e]))}function p(e,...r){require(`../lib/${e}`)(...r)}async function d(e){const r=o.promisify(c),t=await r(e);return f(new Promise(((e,r)=>{process.stdout.write(t.toString({children:!1,chunkModules:!1,chunks:!1,colors:!0,modules:!1})+"\n\n"),t.hasErrors()?r(!1):e(!0)})))}function y(e,r){const t=Object.prototype.toString.call(e).replace(/\[object /g,"").replace(/\]/g,"").toLowerCase();return r?t===r:t}function h(e=""){return e.replace(u.time,"$7$2$5$4$3$6$1")}function g(e,r){return e.filter((e=>!r.includes(e)))}function m(e,t,o){const i=n.format({hostname:o?(()=>{const e=r.networkInterfaces();for(const r in e)for(let t=0;t<e[r].length;t++){const n=e[r][t];if("IPv4"===n.family&&"127.0.0.1"!==n.address&&!n.internal)return n.address}})():a,pathname:t,port:e,protocol:"http"});return decodeURIComponent(i)}function $(e){return Array.isArray(e)&&!e.length}function S(e){return y(e,"object")&&!Object.keys(e).length}function w(r,t){return e.existsSync(l(r,t))}function b(){return w("src/pages")&&A("src/pages").length>0}function q(){let r=[];if(w("src"))if(b()){const n=l("src/pages");r=e.readdirSync(n).filter((r=>e.statSync(t.normalize(`${n}/${r}`)).isDirectory()))}else{const n=l("src");r=e.readdirSync(n).filter((r=>e.statSync(t.normalize(`${n}/${r}`)).isFile()&&".html"===t.extname(t.normalize(`${n}/${r}`)))).map((e=>e.split(".")[0]))}return r}function A(r,n){const o=l(r,n);return w(r,n)?e.readdirSync(o).filter((r=>e.statSync(t.normalize(`${o}/${r}`)).isDirectory())):[]}function C(e,r){console.log(i[`${e}Bright`](r))}function E(e){console.log(i.white.bgMagenta(`### ${s[e]} ###`))}function I(e){return e.split("-").reduce(((e,r)=>e+r.toLowerCase().replace(/( |^)[a-z]/g,(e=>e.toUpperCase()))),"")}