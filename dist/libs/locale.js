var g=this&&this.__awaiter||function(t,o,e,n){return new(e||(e=Promise))((function(i,r){function s(t){try{l(n.next(t))}catch(t){r(t)}}function a(t){try{l(n.throw(t))}catch(t){r(t)}}function l(t){var o;t.done?i(t.value):(o=t.value,o instanceof e?o:new e((function(t){t(o)}))).then(s,a)}l((n=n.apply(t,o||[])).next())}))};import{readFileSync as ae,writeFileSync as ce}from"fs";import{dirname as e}from"path";import{exit as o}from"process";import{fileURLToPath as i}from"url";import{AbsPath as $,CheckPath as Nt,WaitFor as Fe}from"@yangzw/bruce-us/dist/node.js";import Je from"ora";import{LocaleAnswer as er}from"../helpers/index.js";import{LOCALE_TEXT as aT}from"../langs/index.js";import{ShowTitle as De}from"../utils/index.js";export default function T(){return g(this,void 0,void 0,(function*(){De("locale");const{lang:t}=yield er(),n=Je(aT.doing).start(),r=e(i(import.meta.url)),s=Nt("../langs/index.js",r),a=$("../langs/index."+(s?"js":"ts"),r),l=ae(a,"utf8").replace(/"(.+?)"/,`"./${t}.${s?"js":"ts"}"`);ce(a,l,"utf8"),yield Fe(2e3),n.stop(),console.log(aT.done),o(1)}))}