import{merge as ie}from"webpack-merge";import{DevEntry as d}from"../entry/index.js";import{DevOptimizer as I}from"../optimizer/index.js";import{DevOutput as P}from"../output/index.js";import{BarPlugin as D,DefinePlugin as V,EslintPlugin as M,FriendlyErrorsPlugin as R,HtmlPlugin as X,HtmlTagsPlugin as st,ReactRefreshWebpackPlugin as rr,StylelintPlugin as ir,VuePlugin as or}from"../plugin/index.js";import{CssRule as de,FontRule as te,ImgRule as ae,JsRule as sr,LessRule as er,MdRule as tr,MediaRule as fr,RawRule as jr,ScssRule as lr,SvgRule as pr,VueRule as ur}from"../rule/index.js";import me from"./base-webpack.js";export default function le(e={}){const{alias:s,frame:t,eslintIgnores:r,eslintRules:o,scriptAssets:i,style:l,styleAssets:n,stylelintIgnores:u,stylelintRules:m,useCsslint:p,useJslint:a,useTs:f}=e;return ie(me(s),{devtool:"eval-cheap-module-source-map",entry:d(),mode:"development",module:{rules:[de({debug:!0}),lr({debug:!0}),er({debug:!0}),sr({debug:!0,frame:t,useTs:f}),ae({debug:!0}),te(),fr(),jr(),tr(),pr(),ur()]},optimization:I(),output:P(),plugins:[V({mode:"dev"}),D(),M({disabled:!a,frame:t,ignores:r,rules:o,useTs:f}),R(),X(),st({scripts:i,styles:n}),"react"===t&&rr(),ir({disabled:!p,frame:t,ignores:u,rules:m,style:l}),or()].filter(Boolean),stats:"errors-warnings"})}