import{exit as Vo}from"process";import{CheckPath as Z,WaitFor as ko}from"@yangzw/bruce-us/dist/node.js";import _e from"ora";import{BrucercConfig as c}from"../../configs/config/index.js";import{NEW_TEXT as to}from"../../constants/i18n/index.js";import{JudgeFile as i,ShowMsg as et,ShowTitle as gt}from"../../constants/util/index.js";import qe from"../../generators/material/index.js";import{NewAnswer as wr}from"../../helpers/answer/index.js";export default async function Ze(){gt("new");const e=i("","configFile"),r=i("src");if(!e)return et("red",to.judgeBrucerc),Vo(1);if(!r)return et("red",to.judgeIndexes),Vo(1);if(!Z("package.json"))return et("red",to.judgePackage),Vo(1);if(!Z("node_modules"))return et("red",to.judgeModules),Vo(1);const{namem:n,temp:o}=await wr(),{frame:s,style:t,useTs:a}=await c();if(a&&!Z("tsconfig.json"))return et("red",to.judgeTsconfig),Vo(1);if("js"===s)return et("red",to.judgeFrame);const d=_e(to.doing).start();qe({frame:s,name:n,style:t,temp:o,useTs:a}),await ko(2e3),d.stop(),et("green",to.done),Vo(1)}