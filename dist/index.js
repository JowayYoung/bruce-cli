#!/usr/bin/env node
var s;import{dirname as e}from"path";import{argv as t,exit as o,version as a}from"process";import{fileURLToPath as i}from"url";import{ReadJson as l}from"@yangzw/bruce-us/dist/node.js";import{Command as n}from"commander";import p from"semver";import{ACTION_TEXT as r,ACTION_OPTS_TEXT as m,CMD_TEXT as d}from"./langs/index.js";import{Build as c,Create as u,Dev as v,Init as O,Locale as T,Remove as f}from"./libs/index.js";import{BUILD_TEST as b,CREATE_TEXT as C,DEV_TEST as y,INIT_TEST as j}from"./utils/index.js";p.lt(a,"v16.0.0")&&(console.log(d.judgeNode),o(1));const E=new n,h=e(i(import.meta.url)),{version:I="1.0.0"}=null!==(s=l("../package.json",h))&&void 0!==s?s:{};E.name(d.cmd).usage("<command> [option]").description(d.desc).version(d.version(I),"-v, --version",r.version).helpOption("-h, --help",r.help).addHelpCommand(!1),E.command("build").alias("b").option("-a, --analyze [val]",m.buildOpts.useAnalyzer,b.useAnalyzer,!1).option("-c, --compress [val]",m.buildOpts.useCompressor,b.useCompressor,!1).option("-lc, --lintcss [val]",m.buildOpts.useCsslint,b.useCsslint,!1).option("-lj, --lintjs [val]",m.buildOpts.useJslint,b.useJslint,!1).option("-m, --mode [val]",m.buildOpts.mode,b.mode,"").option("-n, --named [val]",m.buildOpts.useHash,b.useHash,!1).option("-p, --polyfill [val]",m.buildOpts.polyfill,b.polyfill,"").option("-t, --timed [val]",m.buildOpts.useTimer,b.useTimer,!1).description(r.build).action(c),E.command("create").alias("c").option("-f, --frame [val]",m.createOpts.frame,C.frame,"").option("-i, --install [val]",m.createOpts.useInstaller,C.useInstaller,!1).option("-n, --name [val]",m.createOpts.appName,C.appName,"").option("-s, --style [val]",m.createOpts.style,C.style,"").option("-ts, --typescript [val]",m.createOpts.useTs,C.useTs,!1).description(r.create).action(u),E.command("dev").alias("d").option("-e, --encrypt [val]",m.devOpts.useHttps,y.useHttps,!1).option("-lc, --lintcss [val]",m.devOpts.useCsslint,y.useCsslint,!1).option("-lj, --lintjs [val]",m.devOpts.useJslint,y.useJslint,!1).option("-o, --open [val]",m.devOpts.useOpener,y.useOpener,!1).option("-p, --port [val]",m.devOpts.port,y.port,0).description(r.dev).action(v),E.command("init").alias("i").option("-n, --name [val]",m.initOpts.mateName,j.mateName,"").option("-t, --template [val]",m.initOpts.template,j.template,"").description(r.init).action(O),E.command("locale").alias("l").description(r.locale).action(T),E.command("remove").alias("r").description(r.remove).action(f),E.parse(t);