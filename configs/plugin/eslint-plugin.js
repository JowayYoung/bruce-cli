import{dirname as w}from"path";import{fileURLToPath as B}from"url";import{AbsPath as E}from"@yangzw/bruce-us/dist/node.js";import L from"eslint-friendly-formatter";import T from"eslint-webpack-plugin";export default function M({disabled:e=!0,frame:t="",ignores:r=[],rules:o={},useTs:s=!1}={}){if(e)return null;const i=w(B(import.meta.url)),n=`../../templates/${s?"tslint":"eslint"}/${s?"tslintrc":"eslintrc"}${"react"===t?".react":"vue"===t?".vue":""}.cjs`;return new T({cache:!0,cacheLocation:E("node_modules/.cache/eslint-webpack-plugin/.eslintcache"),context:E("src"),exclude:["node_modules",...r].map((e=>E(e))),extensions:["js","ts","jsx","tsx","vue"],formatter:L,overrideConfig:{rules:o},overrideConfigFile:E(n,i),threads:!0})}