import{extname as s}from"path";import{pathToFileURL as e}from"url";import{IsEmptyArray as t,IsEmptyObject as r,ReadJson as l,NodeType as o}from"@yangzw/bruce-us/dist/node.js";import{BROWSERS_ES5 as n,JudgeFile as i,ReadYml as u}from"../../constants/util/index.js";export default async function c(){const c=i("","configFile"),a="windows"===o().system?e(c).href:c,p=s(a).replace(/^\./g,""),m="js"===p?(await import(a)).default||{}:"json"===p?l("brucerc.json")||{}:"yml"===p&&u("brucerc.yml")||{};if(!r(m))for(const s in m){const e=m[s];(!e||t(e)||r(e))&&delete m[s]}return Object.assign({alias:{},browsers:n,buildErrorCb:null,buildSuccessCb:null,eslintIgnores:[],eslintRules:{},frame:"",openPages:[],proxy:{},proxyHost:"",publicPath:"",scriptAssets:[],style:"",styleAssets:[],stylelintIgnores:[],stylelintRules:{},transpileDeps:[],uploadOpts:null,useTs:!1},m)}